<section>
  <h3>Working with maps</h3>

  <p>
    In the last chapter we looked at some functions that we could use to work with lists. We looked at some functions from the <code>List</code> module, but we really spent most of the chapter on the <code>Enum</code> module. We spoke in that last chapter of using the <code>Enum.each/2</code> function to work with maps:
  </p>

  <blockquote>
    <p>
      Similar to this, we could <em>enumerate</em> through a map. If we were to take one of our maps from earlier...
    </p>

<pre><code>%{<span class='console-green'>"name"</span> => <span class='console-green'>"Roberto"</span>, <span class='console-green'>"age"</span> => <span class='console-green'>"30ish"</span>, <span class='console-green'>"gender"</span> => <span class='console-green'>"Male"</span>}</code></pre>

    <p>
      ...and write each key and value pair down, they may look something like this:
    </p>

    <dl>
      <dt><strong>Name</strong></dt><dd>Roberto</dd>
      <dt><strong>Age</strong></dt><dd>30ish</dd>
      <dt><strong>Gender</strong></dt><dd>Male</dd>
    </dl>
  </blockquote>

  <p>
    But we never got around to actually showing you how this was done! Well, enough dilly-dallying, here's an example:
  </p>

<pre><code>iex> person = %{"name" => "Roberto", "age" => "30ish", "gender" => "Male"}
%{<span class='console-green'>"name"</span> => <span class='console-green'>"Roberto"</span>, <span class='console-green'>"age"</span> => <span class='console-green'>"30ish"</span>, <span class='console-green'>"gender"</span> => <span class='console-green'>"Male"</span>}
iex> Enum.each(person, fn ({key, value}) -> IO.puts value end)
</code></pre>


  <p>
    Before I can go any further, Roberto interrupts. "Hey, those curly braces inside the function passed to <code>each</code> are weird! It looks like a map but it's not a map because it doesn't have the <code>%</code> before it. And it's not a list because the curliness of the brackets; a list has square brackets. So what is it?". Roberto is calling out this code specifically:
  </p>

<pre><code>fn ({key, value}) ...</code></pre>

  <p>
    The <code>{k, v}</code> here indicates a type of data in Elixir that we haven't seen before called a <em>tuple</em>. Tuples work like lists in that the order of the elements inside them matters, but you can't enumerate through them like you can with lists; said another way: tuples are <em>not</em> enumerable.
  </p>

  <p>
    In this function passed to <code>each</code>, a tuple is used instead of two function arguments (i.e. <code>fn(key, value) -></code>) to indicate that the <code>key</code> and the <code>value</code> share a connection. This <code>key</code> and <code>value</code> are not represented as a list (i.e. <code>fn([key, value]) -></code>) because of this connection.
  </p>

  <aside>
    <header>More on tuples coming up real soon</header>
    <p>
      We'll see a lot more tuples when we get to <a href='/11-working-with-files'>Chapter 11 "Working with Files"</a>.
    </p>
  </aside>

  <p>
    Let's take another look at how we used <code>Enum.each/2</code> and what the output was:
  </p>

<pre><code>iex> Enum.each(person, fn ({key, value}) -> IO.puts value end)
30ish
Male
Roberto
:ok</code></pre>

  <p>
    Our use of <code>Enum.each/2</code> goes through each <code>key</code> and <code>value</code>, ignores the key and outputs the value with <code>IO.puts/1</code>. This is almost identical to our previous example of <code>Enum.each/2</code>, where we used a list of seasons with the <code>IO.puts/1</code> function:
  </p>

<pre><code>iex> Enum.each(seasons, &amp;IO.puts/1)</code></pre>

  <p>
    In the list example, we were able to use <code>&amp;IO.puts/1</code>. In the map example though, we had to pull out the value by using the tuple, and then we needed to use the expanded version of <code>IO.puts/1</code> (<code>IO.puts(value)</code>) to output that value.
  </p>

  <div class='todo'>
    Show an example of <code>map</code> and <code>reduce</code> here.
  </div>

  <div class='todo'>
    Cover <code>Map</code> functions like <code>Map.get</code>, <code>Map.put</code> and <code>Map.merge</code>.
  </div>

  <h3>Where to find more functions</h3>

  <div class='todo'>
    Talk about the <code>h</code> helper in the iex prompt.

    Talk about tab complete here too?

    TODO: Link to https://hexdocs.pm/elixir/

  </div>
</section>
