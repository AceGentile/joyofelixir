---
layout: default
title: Pattern Matching
---

<h2>Pattern Matching</h2>

<div class='todo'>
  Work in progress.

  Will need to cover pattern matching, particularly that <code>=</code> is not assignment, + demonstrating how to pull values out of a map.

  This should chapter should probably also cover <code>case</code>.
</div>

<p>
  Back in <a href='/2'>Chapter 2</a> you saw that the equals sign (<code>=</code>) made the computer remember things.
</p>

<pre><code>iex> sentence = "A really long and complex sentence we'd rather not repeat."
<span class='console-green'>"A really long and complex sentence we'd rather not repeat."</span>
iex> score = 2 / 5 * 100
<span class='console-yellow'>40</span></code></pre>

<p>
  While this is indeed still true, the equals sign (<code>=</code>) can do more than just set one value at a time. (Roberto double-takes at the last sentence.) There's a hidden feature of Elixir that we haven't shown yet, and that feature is called <em>pattern matching</em>. The equals sign isn't just about assigning things to make the computer remember them, but it can also be used for <em>matching</em> things. You can think of it like the equals sign in mathematics, where the left-hand-side must match the right-hand-side.
</p>

<p>
  For instance, if we tried to make <code>2 + 2 = 5</code>, much like <a href='https://en.wikipedia.org/wiki/Nineteen_Eighty-Four'>Nineteen Eighty Four's Party</a> would want us to believe, Elixir would not have a bar of it:
</p>

<pre><code>iex> 2 + 2 = 5
<span class='console-red'>** (MatchError) no match of right hand side value: 5</span>
</code></pre>

<p>
  Unlike the famous Mr. Winston Smith, Elixir cannot ever be coerced into disbelieving reality. Here, Elixir is telling us that <code>2 + 2</code> is indeed not 5. In Elixir, the left-hand-side has to evaluate to the same as the right-hand-side. This will make the computer happy:
</p>

<pre><code>iex> 2 + 2 = 4
<span class='console-yellow'>4</span></code></pre>

<p>
  Similarly, having two identical strings on either side of the equals sign will also make the computer happy:
</p>

<pre><code>iex> "dog" = "dog"
<span class='console-green'>"dog"</span></code></pre>

<p>
  Let's do something more complex than having the same thing on both sides of the equals sign. Let's say that we have a map containing a person's information:
</p>

<pre><code>iex> person = %{"name" => "Roberto", "age" => "30ish"}
%{<span class='console-green'>"name"</span> => <span class='console-green'>"Roberto"</span>, <span class='console-green'>"age"</span> => <span class='console-green'>"30ish"</span>}</code></pre>

<p>
  We've seen before that we could pull out the value attached to <code>"name"</code> or <code>"age"</code> at whim:
</p>

<pre><code>iex> person["name"]
<span class='console-green'>"Roberto"</span>
iex> person["age"]
<span class='console-green'>"30ish"</span></code></pre>

<p>
  But what if we wanted to pull out both of these values <em>at the same time</em>? Or even in the shortest possible code? Well, for that we have this <em>pattern matching</em> thing that I've been banging on about for over a page. Let's take a look at how pattern matching can help get both the name and the age out of the <code>person</code> map.
</p>

<pre><code>iex> %{"name" => name, "age" => age} = person</code></pre>

<a href='/4'>Previous</a> | <a href='/6'>Next</a>
